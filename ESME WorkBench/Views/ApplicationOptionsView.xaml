<Window x:Class="ESMEWorkBench.Views.ApplicationOptionsView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Controls="clr-namespace:ESME.Views.Controls;assembly=ESME.Views" Title="User Options"
        SizeToContent="WidthAndHeight"
        ResizeMode="NoResize"
        WindowStyle="ToolWindow" 
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:ESME="clr-namespace:ESME;assembly=ESME"
        xmlns:Views="clr-namespace:ESMEWorkBench.Views" mc:Ignorable="d" 
        d:DataContext="{d:DesignInstance Type=Main:ApplicationOptionsViewModel}">
    <DockPanel LastChildFill="True">
        <DockPanel LastChildFill="False"
		           Margin="10"
		           DockPanel.Dock="Bottom">
            <Button Width="75"
			        Margin="10 0 0 0"
			        IsCancel="True"
			        Content="Cancel"
			        DockPanel.Dock="Right" />
            <Button Width="75"
			        IsDefault="True"
			        Content="OK"
			        DockPanel.Dock="Right"
			        Command="{Binding OkCommand}" />
        </DockPanel>
        <TabControl>
            <TabItem Header="NAEMO"
			         HorizontalContentAlignment="Stretch"
			         VerticalContentAlignment="Stretch">
                <StackPanel Orientation="Vertical"
				            Width="Auto"
				            Height="Auto">
                    <Controls:FileOrDirectorySetting Caption="Java executable (javaw.exe)"
					                                 Margin="5"
					                                 DialogTitle="Choose the java executable (javaw.exe)"
					                                 FileNameFilter="Java executable (javaw.exe)|javaw.exe|All files (*.*)|*.*"
					                                 IsDirectoryBrowser="False"
					                                 FileName="{Binding AppSettings.NAEMOTools.JavaExecutablePath, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}"
                                                     Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"  />
                    <Controls:FileOrDirectorySetting Caption="NAEMO Tools directory"
					                                 Margin="5"
					                                 IsDirectoryBrowser="True"
					                                 FileName="{Binding AppSettings.NAEMOTools.NAEMOToolsDirectory, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}"
                                                     Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"  />

                    <Controls:FileOrDirectorySetting Caption="Scenario data directory"
					                                 Margin="5 0"
					                                 DialogTitle="Locate the range complex definitions file (SimAreas.csv)"
					                                 FileNameFilter="Range complex definitions (SimAreas.csv)|SimAreas.csv|All files (*.*)|*.*"
					                                 IsDirectoryBrowser="False"
					                                 FileName="{Binding ScenarioDataDirectory, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}"
                                                     Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"  />

                    <GroupBox Header="Scenario Simulator Options"
					          Margin="5"
					          Padding="5">
                        <Views:ScenarioSimulatorUserControlView DataContext="{Binding AppSettings.ScenarioSimulatorSettings}"/>
                    </GroupBox>
                </StackPanel>
            </TabItem>
            <TabItem Header="Environment"
			         HorizontalContentAlignment="Stretch"
			         VerticalContentAlignment="Stretch">
                <StackPanel Orientation="Vertical">
                    <GroupBox Header="Database Locations"
					          Margin="5 10 5 5"
					          Padding="5">
                        <StackPanel Orientation="Vertical">
                            <Controls:FileOrDirectorySetting Caption="GDEM-V"
							                                 Margin="0 5"
                                                             Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"
							                                 IsDirectoryBrowser="False"
							                                 DialogTitle="Choose one GDEM database file"
							                                 FileNameFilter="NetCDF files (*.nc)|*.nc|All files (*.*)|*.*"
							                                 FileName="{Binding GDEMDirectory, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" />
                            <Controls:FileOrDirectorySetting Caption="SMGC"
                                                             Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"
							                                 IsDirectoryBrowser="False"
							                                 DialogTitle="Choose one SMGC database file (*.stt)"
							                                 FileNameFilter="SMGC files (*.stt)|*.stt|All files (*.*)|*.*"
							                                 FileName="{Binding SMGCDirectory, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" />
                            <Controls:FileOrDirectorySetting Caption="BST"
							                                 Margin="0 5"
                                                             Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"
							                                 IsDirectoryBrowser="False"
							                                 DialogTitle="Choose the Bottom Sediment Type database file (usually hfevav2.h5)"
							                                 FileNameFilter="HDF5 files (*.h5)|*.h5|All files (*.*)|*.*"
							                                 FileName="{Binding AppSettings.NAVOConfiguration.BSTDirectory, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" />
                            <Controls:FileOrDirectorySetting Caption="DBDB"
							                                 IsDirectoryBrowser="False"
                                                             Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"
							                                 DialogTitle="Choose the Digital Bathymetric Database file"
							                                 FileNameFilter="HDF5 files (*.h5)|*.h5|All files (*.*)|*.*"
							                                 FileName="{Binding AppSettings.NAVOConfiguration.DBDBDirectory, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Header="Required Extraction Tools"
					          Margin="5 0 5 10"
					          Padding="5">
                        <StackPanel Orientation="Vertical">
                            <Controls:FileOrDirectorySetting Caption="DBDB Extractor"
							                                 DialogTitle="Choose the extraction program for DBDB"
							                                 IsDirectoryBrowser="False"
							                                 FileNameFilter="Executable files (*.exe)|*.exe|Batch files (*.bat)|*.bat|All files (*.*)|*.*"
                                                             Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"
							                                 FileName="{Binding AppSettings.NAVOConfiguration.DBDBEXEPath, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" />
                            <Controls:FileOrDirectorySetting Caption="HFBL Extractor"
							                                 DialogTitle="Choose the extraction program for HFBL"
							                                 IsDirectoryBrowser="False"
							                                 FileNameFilter="Executable files (*.exe)|*.exe|Batch files (*.bat)|*.bat|All files (*.*)|*.*"
                                                             Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"
							                                 FileName="{Binding AppSettings.NAVOConfiguration.HFBLEXEPath, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" />
                            <Controls:FileOrDirectorySetting Caption="LFBL Extractor"
							                                 DialogTitle="Choose the extraction program for LFBL"
							                                 IsDirectoryBrowser="False"
							                                 FileNameFilter="Executable files (*.exe)|*.exe|Batch files (*.bat)|*.bat|All files (*.*)|*.*"
                                                             Style="{StaticResource ValidatingFileOrDirectorySettingStyle}"
							                                 FileName="{Binding AppSettings.NAVOConfiguration.LFBLEXEPath, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>

                    </GroupBox>
                </StackPanel>
            </TabItem>
            <TabItem Header="Acoustic Simulators">
                <Views:AcousticSimulatorOptionsControl DataContext="{Binding AppSettings}"/>
            </TabItem>
            <TabItem Header="Seasons">
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Vertical"
					            Margin="5">
                        <TextBlock Text="Spring Starts" />
                        <ComboBox ItemsSource="{Binding Months}"
						          SelectedItem="{Binding AppSettings.NAVOConfiguration.SpringStartMonth}"
						          ToolTip="The beginning month of a 3-month season" />
                    </StackPanel>
                    <StackPanel Orientation="Vertical"
					            Margin="5 0">
                        <TextBlock Text="Summer Starts" />
                        <ComboBox ItemsSource="{Binding Months}"
						          SelectedItem="{Binding AppSettings.NAVOConfiguration.SummerStartMonth}"
						          ToolTip="The beginning month of a 3-month season" />
                    </StackPanel>
                    <StackPanel Orientation="Vertical"
					            Margin="5">
                        <TextBlock Text="Fall Starts" />
                        <ComboBox ItemsSource="{Binding Months}"
						          SelectedItem="{Binding AppSettings.NAVOConfiguration.FallStartMonth}"
						          ToolTip="The beginning month of a 3-month season" />
                    </StackPanel>
                    <StackPanel Orientation="Vertical"
					            Margin="5 0">
                        <TextBlock Text="Winter Starts" />
                        <ComboBox ItemsSource="{Binding Months}"
						          SelectedItem="{Binding AppSettings.NAVOConfiguration.WinterStartMonth}"
						          ToolTip="The beginning month of a 3-month season" />

                    </StackPanel>
                    <StackPanel Orientation="Vertical"
					            Margin="5">
                        <TextBlock Text="Cold Season Starts" />
                        <ComboBox ItemsSource="{Binding Months}"
						          SelectedItem="{Binding AppSettings.NAVOConfiguration.ColdSeasonStartMonth}"
						          ToolTip="The beginning month of a 6-month season" />

                    </StackPanel>
                    <StackPanel Orientation="Vertical"
					            Margin="5">
                        <TextBlock Text="Warm Season Starts" />
                        <ComboBox ItemsSource="{Binding Months}"
						          SelectedItem="{Binding AppSettings.NAVOConfiguration.WarmSeasonStartMonth}"
						          ToolTip="The beginning month of a 6-month season" />

                    </StackPanel>

                </StackPanel>
            </TabItem>
            <TabItem Header="Misc">
                <StackPanel Orientation="Vertical">
                    <GroupBox Header="Propagation files" >
                <StackPanel Orientation="Horizontal" Margin="5">
                    <CheckBox Content="Display threshold contour of " 
                              IsChecked="{Binding AppSettings.DisplayContoursOnTransmissionLoss}"
                              VerticalAlignment="Center"/>
                    <TextBox Text="{Binding AppSettings.TransmissionLossContourThreshold}" 
                             Width="30"
                             VerticalAlignment="Center" />  
                    <TextBlock Text=" dB on transmission loss points" VerticalAlignment="Center"/>
                </StackPanel>
                    </GroupBox>
                    <GroupBox Header="Environment data export" 
                              Visibility="{Binding ESME:Configuration.IsClassifiedModel, Converter={StaticResource TrueVisibleFalseCollapsed}}">
                        <StackPanel Orientation="Vertical">
                            <CheckBox Content="Export environment files when all data are available" 
                              IsChecked="{Binding AppSettings.DisplayContoursOnTransmissionLoss}"
                              VerticalAlignment="Center" Margin="5"/>
                            <CheckBox Content="Export bathymetry files when all data are available" 
                              IsChecked="{Binding AppSettings.DisplayContoursOnTransmissionLoss}"
                              VerticalAlignment="Center" Margin="5 0 5 5"/>
                    </StackPanel>
                    </GroupBox>
                </StackPanel>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>